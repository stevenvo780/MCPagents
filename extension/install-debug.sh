#!/bin/bash

echo "ðŸ” Verificando instalaciÃ³n de la extensiÃ³n..."

# Desinstalar versiÃ³n anterior si existe
code --uninstall-extension local.autonomous-mcp-helper 2>/dev/null || true

echo "ðŸ“¦ Instalando nueva versiÃ³n..."
code --install-extension autonomous-mcp-helper-0.0.9.vsix

echo "ðŸŽ¯ Instrucciones para verificar el panel:"
echo ""
echo "1. Abre VS Code"
echo "2. Ve a la barra lateral izquierda"
echo "3. Busca el Ã­cono 'Autonomous Copilot' (deberÃ­a aparecer con un Ã­cono verde)"
echo "4. Haz clic en Ã©l para abrir las vistas:"
echo "   - ðŸ“Š Dashboard: MÃ©tricas y control del motor"
echo "   - ðŸ“ Historial: Actividades registradas"
echo "   - âš™ï¸ ConfiguraciÃ³n: Ajustes avanzados"
echo "5. Si no aparece, ve a Ver > Comando > 'Developer: Reload Window'"
echo "6. Para ver logs: Ver > Output > selecciona 'Log (Extension Host)'"
echo ""
echo "ðŸ¤– NUEVA FUNCIONALIDAD v0.0.9: CHAT PARTICIPANT!"
echo "1. Abre el Chat de Copilot (Ctrl+Alt+I o desde la barra lateral)"
echo "2. Escribe: @autonomousai analiza mi cÃ³digo"
echo "3. Â¡El chat responderÃ¡ automÃ¡ticamente usando OpenAI!"
echo ""
echo "ðŸ“‹ Comandos disponibles del Chat Participant:"
echo "- @autonomousai /analyze - Analiza cÃ³digo y sugiere mejoras"
echo "- @autonomousai /fix - Encuentra y corrige errores"
echo "- @autonomousai /optimize - Optimiza el cÃ³digo"
echo "- @autonomousai /explain - Explica cÃ³mo funciona el cÃ³digo"
echo "- @autonomousai [pregunta libre] - Respuesta general"
echo ""
echo "âœ¨ Funcionalidades v0.0.9:"
echo "- Chat Participant @autonomousai integrado con Copilot"
echo "- Respuestas automÃ¡ticas usando tu servidor MCP local"
echo "- AnÃ¡lisis de contexto automÃ¡tico (archivo activo, errores, selecciÃ³n)"
echo "- Historial de interacciones en el dashboard"
echo "- 4 comandos especializados (/analyze, /fix, /optimize, /explain)"
echo ""
echo "ðŸ› Para debugear:"
echo "- Abre DevTools: Ayuda > Toggle Developer Tools"
echo "- Ve a Console para ver los logs que agregamos"
echo ""
echo "âœ… InstalaciÃ³n completada - Recarga VS Code manualmente"
